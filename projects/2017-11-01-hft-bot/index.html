<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>HFT Bitcoin Bot</title><meta property=og:title content="HFT Bitcoin Bot"><meta name=twitter:title content="HFT Bitcoin Bot"><meta name=description content="I&rsquo;ve been following Bitcoin since 2011. I never really believed in it as a currency back then because I thought there was no way soverign nations would allow such a currency to circumvent their own. Additionally, I didn&rsquo;t feel like it had any intrinsic value. Fast forward three years, Bitcoin hits $1000. People call it overvalued. They offer their expert layman advice and tell everyone they know not to buy Bitcoin."><meta property=og:description content="I&rsquo;ve been following Bitcoin since 2011. I never really believed in it as a currency back then because I thought there was no way soverign nations would allow such a currency to circumvent their own. Additionally, I didn&rsquo;t feel like it had any intrinsic value. Fast forward three years, Bitcoin hits $1000. People call it overvalued. They offer their expert layman advice and tell everyone they know not to buy Bitcoin."><meta name=twitter:description content="I&rsquo;ve been following Bitcoin since 2011. I never really believed in it as a currency back then because I thought there was no way soverign nations would allow such a currency to circumvent their â€¦"><meta name=author content="Samson Gama"><link href=https://samsongama.com/img/favicon.ico rel=icon type=image/x-icon><meta property=og:image content=https://samsongama.com/img/nav-icon.jpg><meta name=twitter:image content=https://samsongama.com/img/nav-icon.jpg><meta name=twitter:card content=summary><meta property=og:url content=https://samsongama.com/projects/2017-11-01-hft-bot/><meta property=og:type content=website><meta property=og:site_name content="Samson Gama"><link rel=canonical href=https://samsongama.com/projects/2017-11-01-hft-bot/><link rel=alternate href=https://samsongama.com/index.xml type=application/rss+xml title="Samson Gama"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://samsongama.com/css/main.css><link rel=stylesheet href=https://samsongama.com/css/highlight.min.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-40665364-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=https://samsongama.com/>Samson Gama</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=Home href=/>Home</a></li><li><a title=About href=/about/>About</a></li><li><a title=Portfolio href=/portfolio/>Portfolio</a></li><li><a title=Resume href=/resume/>Resume</a></li><li><a title=Contact href=/contact/>Contact</a></li><li><a href=#modalSearch data-toggle=modal data-target=#modalSearch style=outline:none><span class="hidden-sm hidden-md hidden-lg">Search</span> <span id=searchGlyph class="glyphicon glyphicon-search"></span></a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="Samson Gama" href=https://samsongama.com/><img class=avatar-img src=https://samsongama.com/img/nav-icon.jpg alt="Samson Gama"></a></div></div></div></nav><div id=modalSearch class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal>&times;</button><h4 class=modal-title>Search Samson Gama</h4></div><div class=modal-body><gcse:search></gcse:search></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Close</button></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=project-heading><h1>HFT Bitcoin Bot</h1></div></div></div></div></div></header><div role=main class=container><div class=well><div><p>I&rsquo;ve been following Bitcoin since 2011. I never really believed in it as a currency back then because I thought there was no way soverign nations would allow such a currency to circumvent their own. Additionally, I didn&rsquo;t feel like it had any intrinsic value. Fast forward three years, Bitcoin hits $1000. People call it overvalued. They offer their expert layman advice and tell everyone they know not to buy Bitcoin. This, in my opinion, is when Bitcoin first made its presence known to software developers. This is when I saw the bots in action on MtGox. To be clear, not my bots, but other peoples bots. How do I know they are bots? Because I&rsquo;m sure there aren&rsquo;t thousands of people one-upping certain orders every second, 24 hours a day.</p><p>I didn&rsquo;t think about it too much back then. I was only 17 years old at the time and didn&rsquo;t have the aptitude for financial markets. As the years went by, my software skills grew. I started writing microservices, deploying SaaS products, Pokemon Go bots, and even worked on my own startup (not listed in my portfolio yet). I worked on several projects relating to artificial intelligence and machine learning. I worked in Silicon Valley, studied abroad and really got to discover what I wanted to do in life. Make cool things.</p><p>It is now May 2017. Bitcoin just broke $2000. They are many high volume cryptocurrency exchanges around. This time, I notice even more bots on these exchanges. That&rsquo;s when it dawned on me&hellip;.</p><p><img src=/img/projects/hft_btc_bane.png alt="The Dark Knight Quote"><br>This scene is from The Dark Knight Rises when Bane robs Gotham&rsquo;s version of Wall Street. The day trader assumes he wants physical cash so he says &ldquo;There&rsquo;s no money for you to rob&rdquo;. To which Bane responds: &ldquo;Oh really? Then why are you people here&rdquo;.</p><p>There would not be any bots if there wasn&rsquo;t any money to be made.</p><p>I started up a few VPS servers physically near several exchanges servers and started scraping all the data I could. I initally started with Python, but found it to be too slow to keep up with the amount of data I was ingesting. So I moved on to NodeJS. NodeJS offered lots of performance, but for lots of headache as well. Finally, I decided I&rsquo;d move to the most flexible and fastest language for this task - Golang. I rewrote all my services in Golang and started saving all the data to a PostgreSQL database. This unfortunately did not scale with the amount of data points I was collecting as PostgreSQL did not like consuming lots of data with one node. For various reasons, I decided to move to MongoDB. In order to migrate over to MongoDB completely, I needed to migrate my old data from PostgreSQL. That&rsquo;s when I found out MongoDB did not like tens of millions of inserts. Since I wanted to avoid replication strategies at this stage of my project, I realized I had to find a better solution. I eventually moved to a Time Series Database called InfluxDB to handle all my scraping needs. As my primary index was time, it was able to handle everything I threw at it.</p><p>A few months went by and I&rsquo;ve amassed a 40GB+ dataset. In the mean time, I&rsquo;ve been learning about financial markets, technical analysis, day trading, and machine learning. I tried out hundreds of strategies based on financial technical indicators, risk assessment, and sentiment analysis. I wrote several backtesting tools and graphing tools to visualize and verify the strategies.</p><p>In fact, without spoiling too much, here&rsquo;s a peek of my backtesting and visualization frontend I had created for this project. It interacted with my own custom REST API I created specifically to query and process both my raw and transformed data. The data plotted below is of one failed strategy.<br><img src=/img/projects/hft_btc_cc_charts.png alt="CC Charts"></p><p>My bot makes 0.5% returns per week (Sept 2018) in USD after adjusting for volatility through the use of pattern matching, technical analysis, and machine learning. I continuously monitor its performance and signals through Grafana. The bot even tells me what it may do a few minutes ahead of time and what it has done on Slack.</p><p>TODO: Currently working on another layer of interfence using Genetic Programming to allow the program to make its own decision instead of having set execution requirements right now.</p><p>I&rsquo;m sure you&rsquo;re curious to know what my setup looks like so I&rsquo;ll give you a sneak peak.<br>Note: I have not shown any of the graphs or slack notifications that actually give away my strategy or machine learning signals.</p><p>Slack notifications from two of my nine microservices that make up my trading pipeline.<br><img src=/img/projects/hft_btc_slack.png alt=Grafana></p><p>Grafana Dashboard which displays indicators as well as latencies from the exchange to processing on my servers. Trade and Candle latencies are in seconds, pipeline durations are in nanoseconds.<br><img src=/img/projects/hft_btc_grafana.png alt=Grafana></p><p>Tensorflow graph in case you didn&rsquo;t believe I actually managed to get Tensorflow working despite it&rsquo;s rather difficult API.<br><img src=/img/projects/hft_btc_tf.png alt=Grafana></p></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=https://plus.google.com/&#43;SamsonGama title=Google&#43;><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-google-plus fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://github.com/sgama title=GitHub><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://gitlab.com/sgama title=GitLab><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-gitlab fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://bitbucket.org/sgama title=Bitbucket><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-bitbucket fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://linkedin.com/in/samsongama title=LinkedIn><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://www.youtube.com/samsongama title=Youtube><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-youtube fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://open.spotify.com/user/&#43;sam title=Spotify><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-spotify fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://samsongama.com/index.xml title=RSS><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted"><a href=https://samsongama.com>Samson Gama</a>
&nbsp;&bull;&nbsp;
2019
&nbsp;&bull;&nbsp;
<a href=https://samsongama.com/>Samson Gama</a></p><p class="credits theme-by text-muted">[<a href=https://github.com/sgama/sg/tree/5a06c445beb57df2a5ec34da0d93a726856dd048>5a06c44</a>]</p></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js integrity=sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin=anonymous></script><script src=https://samsongama.com/js/main.js></script><script src=https://samsongama.com/js/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><script>renderMathInElement(document.body);</script><script>(function(){var cx='015123895069075366687:449fwtixz80';var gcse=document.createElement('script');gcse.type='text/javascript';gcse.async=true;gcse.src='https://cse.google.com/cse.js?cx='+cx;var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse,s);})();</script></body></html>