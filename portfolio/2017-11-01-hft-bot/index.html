<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>HFT Bitcoin Bot - Samson Gama</title><meta name=description content="_"><meta name=author content="Samson Gama"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Samson Gama","url":"https:\/\/samsongama.com\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/samsongama.com\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/samsongama.com\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/samsongama.com\/portfolio\/2017-11-01-hft-bot\/","name":"H f t bitcoin bot"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Samson Gama"},"headline":"HFT Bitcoin Bot","description":"I\x26rsquo;ve been following Bitcoin since 2011. I never really believed in it as a currency back then because I thought there was no way soverign nations would allow such a currency to circumvent their own. Additionally, I didn\x26rsquo;t feel like it had any intrinsic value. Fast forward three years, Bitcoin hits $1000. People call it overvalued. They offer their expert layman advice and tell everyone they know not to buy Bitcoin.","inLanguage":"en","wordCount":786,"datePublished":"2018-01-01T00:00:00","dateModified":"2018-01-01T00:00:00","image":"https:\/\/samsongama.com\/img\/nav-icon-small.webp","keywords":["."],"mainEntityOfPage":"https:\/\/samsongama.com\/portfolio\/2017-11-01-hft-bot\/","publisher":{"@type":"Organization","name":"https:\/\/samsongama.com\/","logo":{"@type":"ImageObject","url":"https:\/\/samsongama.com\/img\/nav-icon-small.webp","height":60,"width":60}}}</script><meta property="og:title" content="HFT Bitcoin Bot"><meta property="og:description" content="_"><meta property="og:image" content="https://samsongama.com/img/nav-icon-small.webp"><meta property="og:url" content="https://samsongama.com/portfolio/2017-11-01-hft-bot/"><meta property="og:type" content="website"><meta property="og:site_name" content="Samson Gama"><meta name=twitter:title content="HFT Bitcoin Bot"><meta name=twitter:description content="_"><meta name=twitter:image content="https://samsongama.com/img/nav-icon-small.webp"><meta name=twitter:card content="summary"><link href=https://samsongama.com/img/favicon.webp rel=icon type=image/x-icon><link rel=alternate href=https://samsongama.com/index.xml type=application/rss+xml title="Samson Gama"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.5.0/css/all.min.css integrity="sha256-nkysZcel7gvQdDr+/KvdPnOFThKErJrEM4E9YjH1UPI=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin=anonymous><link rel=stylesheet href=https://samsongama.com/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&display=swap"><link rel=stylesheet href=https://samsongama.com/css/syntax.css><link rel=stylesheet href=https://samsongama.com/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-40665364-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=https://samsongama.com/>Samson Gama</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=Home href=/>Home</a></li><li><a title=About href=/about/>About</a></li><li><a title=Portfolio href=/portfolio/>Portfolio</a></li><li><a title=Resume href=/resume/>Resume</a></li><li><a title=Contact href=/contact/>Contact</a></li><li><a href=#modalSearch data-toggle=modal data-target=#modalSearch style=outline:none><span class="hidden-sm hidden-md hidden-lg">Search</span> <span id=searchGlyph class="glyphicon glyphicon-search"></span></a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="Samson Gama" href=https://samsongama.com/><img class=avatar-img src=https://samsongama.com/img/nav-icon-small.webp alt="Samson Gama"></a></div></div></div></nav><div id=modalSearch class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal>&#215;</button><h4 class=modal-title>Search Samson Gama</h4></div><div class=modal-body><gcse:search></gcse:search></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Close</button></div></div></div></div><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=portfolio-heading><h1>HFT Bitcoin Bot</h1><hr class=small><h2 class=portfolio-subheading>_</h2></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p>I&rsquo;ve been following Bitcoin since 2011. I never really believed in it as a currency back then because I thought there was no way soverign nations would allow such a currency to circumvent their own. Additionally, I didn&rsquo;t feel like it had any intrinsic value. Fast forward three years, Bitcoin hits $1000. People call it overvalued. They offer their expert layman advice and tell everyone they know not to buy Bitcoin. This, in my opinion, is when Bitcoin first made its presence known to software developers. This is when I saw the bots in action on MtGox. To be clear, not my bots, but other peoples bots. How do I know they are bots? Because I&rsquo;m sure there aren&rsquo;t thousands of people one-upping certain orders every second, 24 hours a day.</p><p>I didn&rsquo;t think about it too much back then. I was only 17 years old at the time and didn&rsquo;t have the aptitude for financial markets. As the years went by, my software skills grew. I started writing microservices, deploying SaaS products, Pokemon Go bots, and even worked on my own startup (not listed in my portfolio yet). I worked on several projects relating to artificial intelligence and machine learning. I worked in Silicon Valley, studied abroad and really got to discover what I wanted to do in life. Make cool things.</p><p>It is now May 2017. Bitcoin just broke $2000. They are many high volume cryptocurrency exchanges around. This time, I notice even more bots on these exchanges. That&rsquo;s when it dawned on me&mldr;.</p><link rel=stylesheet href=https://samsongama.com/css/hugo-easy-gallery.css><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/portfolio/2017-11-01-hft-bot/hft_btc_bane.webp alt=/portfolio/2017-11-01-hft-bot/hft_btc_bane.webp></div><a href=/portfolio/2017-11-01-hft-bot/hft_btc_bane.webp itemprop=contentUrl></a><figcaption><h4>Bane robs Wall Street</h4></figcaption></figure></div><p>This scene is from The Dark Knight Rises when Bane robs Gotham&rsquo;s version of Wall Street. The day trader assumes he wants physical cash so he says &ldquo;There&rsquo;s no money for you to rob&rdquo;. To which Bane responds: &ldquo;Oh really? Then why are you people here&rdquo;.</p><p>There would not be any bots if there wasn&rsquo;t any money to be made.</p><p>I started up a few VPS servers physically near several exchanges servers and started scraping all the data I could. I initally started with Python, but found it to be too slow to keep up with the amount of data I was ingesting. So I moved on to NodeJS. NodeJS offered lots of performance, but for lots of headache as well. Finally, I decided I&rsquo;d move to the most flexible and fastest language for this task - Golang. I rewrote all my services in Golang and started saving all the data to a PostgreSQL database. This unfortunately did not scale with the amount of data points I was collecting as PostgreSQL did not like consuming lots of data with one node. For various reasons, I decided to move to MongoDB. In order to migrate over to MongoDB completely, I needed to migrate my old data from PostgreSQL. That&rsquo;s when I found out MongoDB did not like tens of millions of inserts. Since I wanted to avoid replication strategies at this stage of my project, I realized I had to find a better solution. I eventually moved to a Time Series Database called InfluxDB to handle all my scraping needs. As my primary index was time, it was able to handle everything I threw at it.</p><p>A few months went by and I&rsquo;ve amassed a 40GB+ dataset. In the mean time, I&rsquo;ve been learning about financial markets, technical analysis, day trading, and machine learning. I tried out hundreds of strategies based on financial technical indicators, risk assessment, and sentiment analysis. I wrote several backtesting tools and graphing tools to visualize and verify the strategies.</p><p>In fact, without spoiling too much, here&rsquo;s a peek of my backtesting and visualization frontend I had created for this project. It interacted with my own custom REST API I created specifically to query and process both my raw and transformed data. The data plotted below is of one failed strategy.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/portfolio/2017-11-01-hft-bot/hft_btc_cc_charts.webp alt=/portfolio/2017-11-01-hft-bot/hft_btc_cc_charts.webp></div><a href=/portfolio/2017-11-01-hft-bot/hft_btc_cc_charts.webp itemprop=contentUrl></a></figure></div><p>My bot made 0.5% returns per week (Sept 2018) in USD after adjusting for volatility through the use of pattern matching, technical analysis, and machine learning. I continuously monitor its performance and signals through Grafana. The bot even tells me what it may do a few minutes ahead of time and what it has done on Slack.</p><p>I&rsquo;m sure you&rsquo;re curious to know what my setup looks like so I&rsquo;ll give you a sneak peak.
Note: I have not shown any of the graphs or slack notifications that actually give away my strategy or machine learning signals.</p><p>Slack notifications from two of my nine microservices that make up my trading pipeline.<div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/portfolio/2017-11-01-hft-bot/hft_btc_slack.webp alt=/portfolio/2017-11-01-hft-bot/hft_btc_slack.webp></div><a href=/portfolio/2017-11-01-hft-bot/hft_btc_slack.webp itemprop=contentUrl></a><figcaption><h4>Slack</h4></figcaption></figure></div></p><p>Grafana Dashboard which displays indicators as well as latencies from the exchange to processing on my servers. Trade and Candle latencies are in seconds, pipeline durations are in nanoseconds.<div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=/portfolio/2017-11-01-hft-bot/hft_btc_grafana.webp alt=/portfolio/2017-11-01-hft-bot/hft_btc_grafana.webp></div><a href=/portfolio/2017-11-01-hft-bot/hft_btc_grafana.webp itemprop=contentUrl></a><figcaption><h4>Grafana</h4></figcaption></figure></div></p><div class=blog-tags><a href=https://samsongama.com//tags/./>.</a>&nbsp;</div></article><ul class="pager blog-pager"><li class=previous><a href=https://samsongama.com/portfolio/2017-06-05-absolute/ data-toggle=tooltip data-placement=top title="Absolute Software">&larr; Previous Post</a></li><li class=next><a href=https://samsongama.com/portfolio/2019-06-14-mastercard-verifeye/ data-toggle=tooltip data-placement=top title="Mastercard Verifeye">Next Post &rarr;</a></li></ul></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=https://github.com/sgama title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://gitlab.com/sgama title=GitLab><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-gitlab fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://bitbucket.org/sgama title=Bitbucket><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-bitbucket fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://linkedin.com/in/samsongama title=LinkedIn><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://www.youtube.com/samsongama title=Youtube><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-youtube fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://open.spotify.com/user/+sam title=Spotify><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-spotify fa-stack-1x fa-inverse"></i></span></a></li><li><a href title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i><i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted"><a href=https://samsongama.com>Samson Gama</a>
&nbsp;&bull;&nbsp;&copy;
2020</p><p class="credits theme-by text-muted">[<a href=https://github.com/sgama/sg/tree/9fc9928a5560b6d13232cac2dd657a8331886c75>9fc9928</a>]</p></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin=anonymous></script><script src=https://samsongama.com/js/main.js></script><script>renderMathInElement(document.body);</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://samsongama.com/js/load-photoswipe.js></script><script>(function(){var cx='015123895069075366687:449fwtixz80';var gcse=document.createElement('script');gcse.type='text/javascript';gcse.async=true;gcse.src='https://cse.google.com/cse.js?cx='+cx;var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse,s);})();</script></body></html>